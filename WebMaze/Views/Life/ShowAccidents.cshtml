@using WebMaze.Models.Life
@model List<AccidentViewModel>
@{
    Layout = "_LifeLayout";
}

@section Scripts {
    <script src="~/js/Life-AddEditAccident.js"></script>
}
@section Styles {
    @* Latest version of Bootstrap*@
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
}



<div class="container">
    <h3>Сводка происшествий</h3>

    <a class="btn btn-primary mb-3" id="buttonAddAccident" asp-controller="Life" asp-action="AddAccident" role="button">Сообщить о новом происшествии</a>

    <div id="divAddAccident" class="overflow-hidden"></div>

    <table class="table table-striped mb-3">
        <thead>
            <tr>
                <th>Дата</th>
                <th>Адрес</th>
                <th>Тип происшествия</th>
                <th>Что произошло</th>
                <th>Действия</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in @Model)
            {
                <tr>
                    <th>@item.AccidentDate.ToString("g")</th>
                    <th>@item.SelectedAccidentAddress</th>
                    <th>@item.SelectedAccidentCategory</th>
                    <th>@item.AccidentDescription.</th>
                    <th>
                        <a class="btn btn-primary" asp-controller="Life" asp-action="ShowDetails" role="button">Подробности</a>
                    </th>
                </tr>
            }
        </tbody>
    </table>
    @if (Model.Count == 0)
    {
        <p class="font-italic">
            В этом городе пока никаких событий не происходило. Скукотища!
        </p>
    }
</div>

